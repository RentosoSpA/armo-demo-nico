// Dark + Glass input styles for property form
.property-form {

  // CRITICAL: Force background on wrapper only, input inside transparent
  .ant-form-item-control-input-content {
    > .ant-input {
      background: rgba(255, 255, 255, 0.07) !important;
      border: 1px solid rgba(255, 255, 255, 0.14) !important;
      border-radius: 0.75rem !important;
      color: rgba(255, 255, 255, 0.9) !important;
      height: 2.75rem !important;
      padding: 0 1rem !important;
    }

    // Input INSIDE wrapper should be transparent
    > .ant-input-affix-wrapper {
      background: rgba(255, 255, 255, 0.07) !important;
      border: 1px solid rgba(255, 255, 255, 0.14) !important;
      border-radius: 0.75rem !important;
      height: 2.75rem !important;
      padding: 0 1rem !important;

      > input.ant-input {
        background: transparent !important;
        border: none !important;
        padding: 0 !important;
        height: 100% !important;
        color: rgba(255, 255, 255, 0.9) !important;
      }
    }
  }

  // Force ONLY standalone inputs (no wrapper) to have background
  .ant-form-item-control-input-content {
    > input.ant-input:not(.ant-input-affix-wrapper > input) {
      background: rgba(255, 255, 255, 0.07) !important;
      border: 1px solid rgba(255, 255, 255, 0.14) !important;
      border-radius: 0.75rem !important;
      color: rgba(255, 255, 255, 0.9) !important;
      height: 2.75rem !important;
      padding: 0 1rem !important;
      font-size: 0.9375rem !important;

      &::placeholder {
        color: rgba(255, 255, 255, 0.4) !important;
      }

      &:hover {
        border-color: rgba(255, 255, 255, 0.2) !important;
        background: rgba(255, 255, 255, 0.08) !important;
      }

      &:focus {
        border-color: #3DDAD8 !important;
        box-shadow: 0 0 0 2px rgba(61, 218, 216, 0.3) !important;
        background: rgba(255, 255, 255, 0.08) !important;
        outline: none !important;
      }
    }
  }

  // All form items
  .ant-form-item {
    margin-bottom: 0;

    // Labels
    .ant-form-item-label > label {
      font-size: 0.875rem;
      font-weight: 400;
      color: rgba(255, 255, 255, 0.8);
      height: auto;
      margin-bottom: 0.25rem;

      // Required asterisk
      &.ant-form-item-required::before {
        color: rgb(253, 164, 175);
      }

      // Optional tag
      .ant-form-item-optional {
        color: rgba(255, 255, 255, 0.5);
        font-size: 0.75rem;
        margin-left: 0.25rem;
      }
    }

    // Helper text / extra
    .ant-form-item-extra {
      font-size: 0.75rem;
      color: rgba(255, 255, 255, 0.6);
      margin-top: 0.25rem;
    }

    // Error messages
    .ant-form-item-explain-error {
      font-size: 0.75rem;
      color: #ef4444;
      margin-top: 0.25rem;
    }
  }

  // Pickers and Selectors (no wrapper conflict)
  .ant-picker,
  .ant-select-selector {
    height: 2.75rem !important;
    background: rgba(255, 255, 255, 0.07) !important;
    border: 1px solid rgba(255, 255, 255, 0.14) !important;
    border-radius: 0.75rem !important;
    color: rgba(255, 255, 255, 0.9) !important;
    font-size: 0.9375rem !important;
    padding: 0 1rem !important;
    transition: all 0.2s ease;

    &:hover {
      border-color: rgba(255, 255, 255, 0.2) !important;
      background: rgba(255, 255, 255, 0.08) !important;
    }

    &:focus,
    &.ant-picker-focused,
    &.ant-select-focused {
      border-color: #3DDAD8 !important;
      box-shadow: 0 0 0 2px rgba(61, 218, 216, 0.3) !important;
      background: rgba(255, 255, 255, 0.08) !important;
      outline: none;
    }

    &:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      background: rgba(255, 255, 255, 0.03) !important;
    }
  }

  // Ensure Input wrapper inherits styles - wrapper has bg, inner input transparent
  .ant-input-affix-wrapper {
    background: rgba(255, 255, 255, 0.07) !important;
    border: 1px solid rgba(255, 255, 255, 0.14) !important;
    border-radius: 0.75rem !important;
    height: 2.75rem !important;
    padding: 0 1rem !important;

    &:hover {
      border-color: rgba(255, 255, 255, 0.2) !important;
      background: rgba(255, 255, 255, 0.08) !important;
    }

    &:focus,
    &.ant-input-affix-wrapper-focused {
      border-color: #3DDAD8 !important;
      box-shadow: 0 0 0 2px rgba(61, 218, 216, 0.3) !important;
      background: rgba(255, 255, 255, 0.08) !important;
    }

    // Inner input must be transparent
    .ant-input,
    input.ant-input {
      background: transparent !important;
      border: none !important;
      padding: 0 !important;
      height: 100% !important;
      color: rgba(255, 255, 255, 0.9) !important;

      &::placeholder {
        color: rgba(255, 255, 255, 0.4) !important;
      }

      &:focus {
        box-shadow: none !important;
        outline: none !important;
      }
    }
  }

  // TextArea specific
  .ant-input-textarea {
    .ant-input {
      height: auto !important;
      min-height: 6rem;
      padding: 0.75rem 1rem;
      line-height: 1.5;
    }
  }

  // Input Number specific - ENFORCE 100% width, inner input transparent
  .ant-input-number {
    width: 100% !important;
    background: rgba(255, 255, 255, 0.07) !important;
    border: 1px solid rgba(255, 255, 255, 0.14) !important;
    border-radius: 0.75rem !important;

    &:hover {
      border-color: rgba(255, 255, 255, 0.2) !important;
      background: rgba(255, 255, 255, 0.08) !important;
    }

    &:focus,
    &.ant-input-number-focused {
      border-color: #3DDAD8 !important;
      box-shadow: 0 0 0 2px rgba(61, 218, 216, 0.3) !important;
      background: rgba(255, 255, 255, 0.08) !important;
    }

    .ant-input-number-input {
      height: 2.5rem;
      background: transparent !important;
      color: rgba(255, 255, 255, 0.9) !important;
      border: none !important;
      padding: 0 !important;
    }

    .ant-input-number-handler-wrap {
      background: rgba(255, 255, 255, 0.05) !important;
      border-left: 1px solid rgba(255, 255, 255, 0.12) !important;
    }

    .ant-input-number-handler {
      border: none !important;

      &:hover {
        background: rgba(255, 255, 255, 0.1) !important;
      }
    }

    .ant-input-number-handler-up-inner,
    .ant-input-number-handler-down-inner {
      color: rgba(255, 255, 255, 0.6) !important;
    }
  }

  // Select specific - ENFORCE 100% width
  .ant-select {
    width: 100% !important;

    .ant-select-arrow {
      color: rgba(255, 255, 255, 0.6);
    }

    .ant-select-selection-placeholder {
      color: rgba(255, 255, 255, 0.4);
    }

    .ant-select-selection-item {
      color: rgba(255, 255, 255, 0.9);
    }

    &.ant-select-multiple {
      .ant-select-selector {
        height: auto !important;
        min-height: 2.75rem !important;
        padding: 0.25rem 0.5rem;
      }

      .ant-select-selection-item {
        background: rgba(61, 218, 216, 0.2);
        border: 1px solid rgba(61, 218, 216, 0.3);
        color: rgba(255, 255, 255, 0.9);
        border-radius: 0.5rem;
      }
    }
  }

  // DatePicker specific - ENFORCE 100% width
  .ant-picker {
    width: 100% !important;

    .ant-picker-input > input {
      color: rgba(255, 255, 255, 0.9);

      &::placeholder {
        color: rgba(255, 255, 255, 0.4);
      }
    }

    .ant-picker-suffix {
      color: rgba(255, 255, 255, 0.6);
    }
  }

  // Switch
  .ant-switch {
    background: rgba(255, 255, 255, 0.2);

    &.ant-switch-checked {
      background: #3DDAD8;
    }

    .ant-switch-handle::before {
      background: #fff;
    }
  }

  // Checkbox
  .ant-checkbox-wrapper {
    color: rgba(255, 255, 255, 0.9);

    .ant-checkbox {
      .ant-checkbox-inner {
        background: rgba(255, 255, 255, 0.06);
        border-color: rgba(255, 255, 255, 0.12);
        border-radius: 0.375rem;
      }

      &.ant-checkbox-checked {
        .ant-checkbox-inner {
          background: #3DDAD8;
          border-color: #3DDAD8;
        }
      }

      &:hover .ant-checkbox-inner {
        border-color: rgba(255, 255, 255, 0.2);
      }
    }
  }

  // Radio
  .ant-radio-wrapper {
    color: rgba(255, 255, 255, 0.9);

    .ant-radio {
      .ant-radio-inner {
        background: rgba(255, 255, 255, 0.06);
        border-color: rgba(255, 255, 255, 0.12);
      }

      &.ant-radio-checked {
        .ant-radio-inner {
          border-color: #3DDAD8;
          
          &::after {
            background: #3DDAD8;
          }
        }
      }

      &:hover .ant-radio-inner {
        border-color: rgba(255, 255, 255, 0.2);
      }
    }
  }

  // Segmented
  .ant-segmented {
    background: rgba(255, 255, 255, 0.06);
    border: 1px solid rgba(255, 255, 255, 0.12);
    border-radius: 0.75rem;
    padding: 0.25rem;

    .ant-segmented-item {
      color: rgba(255, 255, 255, 0.7);
      border-radius: 0.5rem;

      &:hover {
        color: rgba(255, 255, 255, 0.9);
        background: rgba(255, 255, 255, 0.05);
      }

      &.ant-segmented-item-selected {
        background: #3DDAD8;
        color: #0e1026;
        font-weight: 500;
      }
    }
  }

  // Upload
  .ant-upload-wrapper {
    .ant-upload-list {
      .ant-upload-list-item {
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.12);
        border-radius: 0.5rem;
        color: rgba(255, 255, 255, 0.9);

        .ant-upload-list-item-name {
          color: rgba(255, 255, 255, 0.9);
        }

        .ant-upload-list-item-actions {
          .anticon {
            color: rgba(255, 255, 255, 0.6);

            &:hover {
              color: rgba(255, 255, 255, 0.9);
            }
          }
        }
      }
    }

    .ant-upload-select {
      .ant-upload-drag {
        background: rgba(255, 255, 255, 0.03);
        border: 2px dashed rgba(255, 255, 255, 0.12);
        border-radius: 0.75rem;

        &:hover {
          border-color: #3DDAD8;
          background: rgba(61, 218, 216, 0.05);
        }

        .ant-upload-drag-icon {
          .anticon {
            color: rgba(255, 255, 255, 0.5);
          }
        }

        .ant-upload-text {
          color: rgba(255, 255, 255, 0.8);
          font-size: 0.9375rem;
        }

        .ant-upload-hint {
          color: rgba(255, 255, 255, 0.6);
          font-size: 0.8125rem;
        }
      }
    }
  }

  // Input Group (for addons like UF, CL$, mÂ², etc.)
  .ant-input-group-wrapper {
    .ant-input-wrapper {
      .ant-input-group-addon {
        background: rgba(255, 255, 255, 0.08);
        border: 1px solid rgba(255, 255, 255, 0.12);
        color: rgba(255, 255, 255, 0.7);
        font-size: 0.875rem;
        font-weight: 500;
        border-radius: 0.75rem;
        padding: 0 0.75rem;

        &:first-child {
          border-top-right-radius: 0;
          border-bottom-right-radius: 0;
        }

        &:last-child {
          border-top-left-radius: 0;
          border-bottom-left-radius: 0;
        }
      }
    }
  }

  // Error state
  .ant-form-item-has-error {
    .ant-input,
    .ant-input-number,
    .ant-picker,
    .ant-select-selector {
      border-color: #ef4444 !important;
      
      &:focus,
      &.ant-input-focused,
      &.ant-picker-focused,
      &.ant-select-focused {
        box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1) !important;
      }
    }
  }
}
