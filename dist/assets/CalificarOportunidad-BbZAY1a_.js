import{c as y,j as e,R as n,C as o,T as m,bb as v,bE as k,U as S,t as z,M as F,p as C,e as N,r as p,br as f,G as W,k as A,bz as B}from"./index-BmXdxNCh.js";import{a as R}from"./oportunidadesServiceSupabase-BNyuFQ3m.js";import{P as w}from"./phone-DAwCiXjk.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],D=y("check",T),{Title:g,Text:s}=m,E=({oportunidad:r})=>{const i={itScore:82,maxScore:148,currentScore:110};return e.jsx("div",{className:"mt-32",children:e.jsxs(n,{gutter:[24,24],children:[e.jsx(o,{xs:24,lg:12,children:e.jsxs("div",{className:"liquid-glass",style:{padding:"32px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},children:[e.jsxs("div",{className:"text-center mb-24",children:[e.jsx(s,{style:{fontSize:"16px",color:"#ffffff",marginBottom:"8px",display:"block"},children:"Â¡Hola! Cauteloso hizo la calificaciÃ³n ðŸ‘‹"}),e.jsx(g,{level:3,style:{color:"white",margin:"0",fontSize:"20px",fontWeight:"600"},children:r!=null&&r.prospecto?`${r.prospecto.primer_nombre||""} ${r.prospecto.primer_apellido||""}`.trim()||"Prospecto":"Ana SofÃ­a Herrera"})]}),e.jsx("div",{className:"text-center mb-24",children:e.jsxs("div",{style:{display:"inline-block",position:"relative"},children:[e.jsxs("svg",{width:"240",height:"140",viewBox:"0 0 240 140",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"gaugeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"rgba(255, 255, 255, 0.2)"}),e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"82%",stopColor:"#FF6B35"}),e.jsx("stop",{offset:"100%",stopColor:"rgba(255, 255, 255, 0.1)"})]})}),e.jsx("path",{d:"M 30 110 A 90 90 0 0 1 210 110",stroke:"rgba(255, 255, 255, 0.15)",strokeWidth:"12",fill:"none",strokeLinecap:"round"}),e.jsx("path",{d:"M 30 110 A 90 90 0 0 1 181 35",stroke:"url(#gaugeGradient)",strokeWidth:"12",fill:"none",strokeLinecap:"round"}),e.jsx("circle",{cx:"181",cy:"35",r:"8",fill:"#FF6B35"})]}),e.jsx("div",{style:{position:"absolute",top:"55px",left:"50%",transform:"translateX(-50%)",fontSize:"32px"},children:"ðŸ»"}),e.jsx("div",{style:{position:"absolute",bottom:"10px",left:"10px",fontSize:"12px",color:"rgba(255, 255, 255, 0.6)"},children:"300"}),e.jsx("div",{style:{position:"absolute",bottom:"95px",left:"50%",transform:"translateX(-50%)",fontSize:"12px",color:"rgba(255, 255, 255, 0.6)"},children:"500"}),e.jsx("div",{style:{position:"absolute",bottom:"10px",right:"10px",fontSize:"12px",color:"rgba(255, 255, 255, 0.6)"},children:"850"})]})}),e.jsxs("div",{className:"text-center mb-24",children:[e.jsxs("div",{style:{fontSize:"48px",fontWeight:"700",color:"#ffffff",marginBottom:"8px"},children:[i.itScore,"%"]}),e.jsxs("div",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.7)"},children:["Tu Score de EvaluaciÃ³n ",i.currentScore,"/",i.maxScore]})]}),e.jsxs("div",{className:"d-flex justify-center gap-16 mb-24",children:[e.jsx("button",{style:{padding:"12px 24px",borderRadius:"12px",background:"#FF6B35",color:"#ffffff",border:"none",fontWeight:"500",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},children:"EvaluaciÃ³n Avanzada"}),e.jsx("button",{style:{padding:"12px 24px",borderRadius:"12px",background:"#4CAF50",color:"#ffffff",border:"none",fontWeight:"500",cursor:"pointer",fontSize:"14px",transition:"all 0.2s ease"},children:"Agendar una Visita"})]}),e.jsx("div",{className:"text-center",children:e.jsxs(s,{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"14px"},children:["Ãšltima actualizaciÃ³n: 9 Oct â€¢ ",e.jsx("span",{style:{textDecoration:"underline",cursor:"pointer"},children:"Ver en whatsapp"})]})})]})}),e.jsx(o,{xs:24,lg:12,children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px",height:"100%"},children:[e.jsxs("div",{className:"liquid-glass",style:{borderRadius:"16px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",overflow:"hidden"},children:[e.jsx("div",{style:{padding:"16px 20px",background:"rgba(255, 255, 255, 0.08)",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:e.jsx(s,{style:{fontWeight:"600",fontSize:"16px",color:"#ffffff"},children:"ðŸ’° InformaciÃ³n Financiera"})}),e.jsxs("div",{style:{padding:"20px"},children:[e.jsxs("div",{className:"d-flex align-center justify-between mb-16",children:[e.jsx(s,{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.7)"},children:"Ingresos Mensuales"}),e.jsxs("div",{className:"d-flex align-center gap-8",children:[e.jsx(s,{style:{fontSize:"16px",fontWeight:"600",color:"#ffffff"},children:"$4,500,000"}),e.jsx("span",{style:{background:"#4CAF50",color:"#ffffff",padding:"4px 10px",borderRadius:"12px",fontSize:"12px",fontWeight:"500"},children:"Verificado"})]})]}),e.jsxs("div",{className:"d-flex align-center justify-between mb-16",children:[e.jsx(s,{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.7)"},children:"Score Crediticio"}),e.jsxs("div",{className:"d-flex align-center gap-8",children:[e.jsx(s,{style:{fontSize:"16px",fontWeight:"600",color:"#FFD700"},children:"750"}),e.jsx("span",{style:{background:"#4CAF50",color:"#ffffff",padding:"4px 10px",borderRadius:"12px",fontSize:"12px",fontWeight:"500"},children:"Excelente"})]})]}),e.jsxs("div",{className:"d-flex align-center justify-between",children:[e.jsx(s,{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.7)"},children:"Capacidad de Pago"}),e.jsxs("div",{className:"d-flex align-center gap-8",children:[e.jsx(s,{style:{fontSize:"16px",fontWeight:"600",color:"#ffffff"},children:"$1,350,000"}),e.jsx("span",{style:{background:"rgba(255, 255, 255, 0.15)",color:"rgba(255, 255, 255, 0.8)",padding:"4px 10px",borderRadius:"12px",fontSize:"12px",fontWeight:"500"},children:"30% disponible"})]})]})]})]}),e.jsxs(n,{gutter:[16,16],children:[e.jsx(o,{xs:24,sm:12,children:e.jsxs("div",{className:"liquid-glass",style:{padding:"24px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",textAlign:"center",height:"100%"},children:[e.jsx(g,{level:4,style:{margin:"0 0 12px 0",color:"#ffffff",fontSize:"18px"},children:"IntenciÃ³n de Compra"}),e.jsxs("div",{className:"d-flex align-center justify-center gap-8",children:[e.jsx(s,{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"14px"},children:"ClasificaciÃ³n:"}),e.jsx(s,{style:{color:"#4CAF50",fontSize:"16px",fontWeight:"600"},children:"Alta"})]})]})}),e.jsx(o,{xs:24,sm:12,children:e.jsx(v,{title:"Descargar zip",placement:"top",children:e.jsxs("div",{className:"liquid-glass cursor-pointer",style:{padding:"24px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.05)",border:"2px solid #4CAF50",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",textAlign:"center",height:"100%",transition:"all 0.2s ease"},onClick:()=>console.log("Downloading documents..."),children:[e.jsxs("div",{className:"d-flex align-center justify-center mb-8 gap-8",children:[e.jsx(k,{size:20,color:"#4CAF50"}),e.jsx(s,{style:{fontSize:"14px",fontWeight:"600",color:"#4CAF50"},children:"Descargar documentos"})]}),e.jsx(s,{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)"},children:"Archivos del prospecto"})]})})})]})]})})]})})},I=r=>[r.primer_nombre,r.segundo_nombre,r.primer_apellido,r.segundo_apellido].filter(Boolean).join(" "),_=r=>({nombre:I(r)||r.display_name||"Sin nombre",telefono:r.phone_e164||"",email:r.email||""}),{Title:h,Text:b}=m,O=({oportunidad:r})=>{const i=r.prospecto?_(r.prospecto):{nombre:"Sin informaciÃ³n",telefono:"",email:""},t=[{icon:S,title:"Nombre Completo",subtitle:i.nombre},{icon:z,title:"Documento ID",subtitle:"11234348497"},{icon:w,title:"TelÃ©fono MÃ³vil",subtitle:i.telefono},{icon:F,title:"Email Personal",subtitle:i.email}];return e.jsx("div",{className:"mt-48",style:{marginTop:"16px"},children:e.jsxs(n,{gutter:[48,32],children:[e.jsx(o,{xs:24,lg:8,children:e.jsxs("div",{className:"pr-24",children:[e.jsx(h,{level:2,className:"mb-16",style:{color:"#ffffff"},children:"InformaciÃ³n del Prospecto"}),e.jsx(b,{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"16px",lineHeight:"1.6"},children:"Detalles completos del prospecto para evaluaciÃ³n y seguimiento."})]})}),e.jsx(o,{xs:24,lg:16,children:e.jsx(n,{gutter:[24,24],children:t.map((l,a)=>{const c=l.icon;return e.jsx(o,{xs:24,sm:12,children:e.jsxs("div",{className:"liquid-glass",style:{padding:"20px",borderRadius:"12px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",display:"flex",alignItems:"flex-start",gap:"16px"},children:[e.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"rgba(51, 244, 145, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(c,{size:24,style:{color:"#33F491"}})}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx(h,{level:5,className:"m-0 mb-4",style:{color:"#ffffff",fontSize:"16px"},children:l.title}),e.jsx(b,{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"14px",wordBreak:"break-word"},children:l.subtitle})]})]})},a)})})})]})})},q=()=>{const{id:r}=C(),i=N(),[t,l]=p.useState(null),[a,c]=p.useState(!0);console.log("CalificarOportunidad component loaded, id:",r),p.useEffect(()=>{r&&(async()=>{try{if(r){const x=await R(r);l(x||null)}}catch(x){console.error("Error fetching oportunidad:",x)}finally{c(!1)}})()},[r]);const d=()=>{i("/oportunidades")},u=()=>{console.log("Rejecting prospect"),d()},j=()=>{console.log("Accepting prospect"),d()};return a?e.jsx("div",{children:"Loading..."}):t?e.jsxs("div",{className:"p-24",children:[e.jsx(f,{variant:"secondary",icon:W,onClick:d,className:"mb-24",children:"Volver a Oportunidades"}),e.jsx(E,{oportunidad:t}),e.jsx(O,{oportunidad:t}),e.jsx("div",{className:"text-center mt-24",children:e.jsxs(A,{size:"large",children:[e.jsx(f,{variant:"secondary",icon:B,size:"large",onClick:u,style:{minWidth:"180px",borderColor:"#F43F5E",color:"#F43F5E"},children:"Rechazar prospecto"}),e.jsx(f,{variant:"primary",icon:D,size:"large",onClick:j,style:{minWidth:"180px"},children:"Aceptar prospecto"})]})})]}):e.jsx("div",{children:"Oportunidad no encontrada"})};export{q as default};
